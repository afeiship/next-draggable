!function(t,n){var i=n.document,e={dom:null};t.declare("nx.ui.Draggable",{methods:{init:function(t){this.initOptions(t),this.attachEvents()},destroy:function(){this.options=null,this.detachEvents()},initOptions:function(n){this.options=t.mix(e,n)},attachEvents:function(){var t=this.options;t.dom.addEventListener("touchstart",this._start.bind(this)),i.addEventListener("touchmove",this._move.bind(this)),i.addEventListener("touchend",this._end.bind(this))},detachEvents:function(){var t=this.options;t.dom.removeEventListener("touchstart",this._start.bind(this)),i.removeEventListener("touchmove",this._move.bind(this)),i.removeEventListener("touchend",this._end.bind(this))},event:function(t){var n=t.changedTouches;return n[0]},_start:function(t){var n=this.event(t),i=this.options;this._offset={x:n.pageX-i.dom.offsetLeft,y:n.pageY-i.dom.offsetTop},this.fire("dragstart")},_move:function(){this._offset&&this.fire("drag")},_end:function(){this._offset=null,this.fire("dragend")}}})}(nx,nx.GLOBAL);